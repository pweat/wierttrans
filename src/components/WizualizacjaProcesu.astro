---
// src/components/WizualizacjaProcesu.astro
---

<div class="w-full max-w-3xl mx-auto p-4">
  <h2 class="text-3xl font-bold text-center mb-12">
    Proces Budowy Studni Krok po Kroku
  </h2>

  <ol class="relative border-l-2 border-gray-200">
    <li class="mb-10 ml-6">
      <span
        class="absolute flex items-center justify-center w-8 h-8 bg-blue-200 rounded-full -left-4 ring-4 ring-white font-bold"
        >1</span
      >
      <div
        class="step-header cursor-pointer p-2 -ml-2 rounded hover:bg-gray-100"
      >
        <h3 class="flex items-center text-lg font-semibold text-gray-900">
          Wstępna konsultacja i wycena
          <svg
            class="w-3 h-3 ml-2 transform transition-transform flex-shrink-0"
            fill="none"
            viewBox="0 0 10 6"
          >
            <path
              stroke="currentColor"
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="m1 1 4 4 4-4"></path>
          </svg>
        </h3>
      </div>
      <div
        class="step-content hidden mt-2 ml-2 overflow-hidden border-l-2 border-gray-200 pl-4"
      >
        <p class="text-base font-normal text-gray-600 py-2">
          Wszystko zaczyna się od rozmowy. Analizujemy Twoje potrzeby,
          odpowiadamy na pytania i na podstawie wstępnych informacji
          przygotowujemy orientacyjną wycenę.
        </p>
      </div>
    </li>

    <li class="mb-10 ml-6">
      <span
        class="absolute flex items-center justify-center w-8 h-8 bg-blue-200 rounded-full -left-4 ring-4 ring-white font-bold"
        >2</span
      >
      <div
        class="step-header cursor-pointer p-2 -ml-2 rounded hover:bg-gray-100"
      >
        <h3 class="flex items-center text-lg font-semibold text-gray-900">
          Wizyta na działce i analiza warunków
          <svg
            class="w-3 h-3 ml-2 transform transition-transform flex-shrink-0"
            fill="none"
            viewBox="0 0 10 6"
          >
            <path
              stroke="currentColor"
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="m1 1 4 4 4-4"></path>
          </svg>
        </h3>
      </div>
      <div
        class="step-content hidden mt-2 ml-2 overflow-hidden border-l-2 border-gray-200 pl-4"
      >
        <p class="text-base font-normal text-gray-600 py-2">
          Nasi specjaliści przyjeżdżają na miejsce, aby ocenić warunki
          geologiczne i hydrogeologiczne. Precyzyjnie wskazujemy najlepszą
          lokalizację dla odwiertu.
        </p>
      </div>
    </li>

    <li class="mb-10 ml-6">
      <span
        class="absolute flex items-center justify-center w-8 h-8 bg-blue-200 rounded-full -left-4 ring-4 ring-white font-bold"
        >3</span
      >
      <div
        class="step-header cursor-pointer p-2 -ml-2 rounded hover:bg-gray-100"
      >
        <h3 class="flex items-center text-lg font-semibold text-gray-900">
          Formalności i umowa
          <svg
            class="w-3 h-3 ml-2 transform transition-transform flex-shrink-0"
            fill="none"
            viewBox="0 0 10 6"
          >
            <path
              stroke="currentColor"
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="m1 1 4 4 4-4"></path>
          </svg>
        </h3>
      </div>
      <div
        class="step-content hidden mt-2 ml-2 overflow-hidden border-l-2 border-gray-200 pl-4"
      >
        <p class="text-base font-normal text-gray-600 py-2">
          Przedstawiamy finalną, szczegółową ofertę. Pomagamy w załatwieniu
          niezbędnych formalności i pozwoleń, a następnie podpisujemy jasną i
          przejrzystą umowę.
        </p>
      </div>
    </li>

    <li class="mb-10 ml-6">
      <span
        class="absolute flex items-center justify-center w-8 h-8 bg-blue-200 rounded-full -left-4 ring-4 ring-white font-bold"
        >4</span
      >
      <div
        class="step-header cursor-pointer p-2 -ml-2 rounded hover:bg-gray-100"
      >
        <h3 class="flex items-center text-lg font-semibold text-gray-900">
          Wiercenie i instalacja rur
          <svg
            class="w-3 h-3 ml-2 transform transition-transform flex-shrink-0"
            fill="none"
            viewBox="0 0 10 6"
          >
            <path
              stroke="currentColor"
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="m1 1 4 4 4-4"></path>
          </svg>
        </h3>
      </div>
      <div
        class="step-content hidden mt-2 ml-2 overflow-hidden border-l-2 border-gray-200 pl-4"
      >
        <p class="text-base font-normal text-gray-600 py-2">
          Przystępujemy do prac wiertniczych przy użyciu nowoczesnego sprzętu.
          Po osiągnięciu warstwy wodonośnej instalujemy atestowane rury osłonowe
          i filtracyjne.
        </p>
      </div>
    </li>

    <li class="mb-10 ml-6">
      <span
        class="absolute flex items-center justify-center w-8 h-8 bg-blue-200 rounded-full -left-4 ring-4 ring-white font-bold"
        >5</span
      >
      <div
        class="step-header cursor-pointer p-2 -ml-2 rounded hover:bg-gray-100"
      >
        <h3 class="flex items-center text-lg font-semibold text-gray-900">
          Czyszczenie i pompowanie próbne
          <svg
            class="w-3 h-3 ml-2 transform transition-transform flex-shrink-0"
            fill="none"
            viewBox="0 0 10 6"
          >
            <path
              stroke="currentColor"
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="m1 1 4 4 4-4"></path>
          </svg>
        </h3>
      </div>
      <div
        class="step-content hidden mt-2 ml-2 overflow-hidden border-l-2 border-gray-200 pl-4"
      >
        <p class="text-base font-normal text-gray-600 py-2">
          Dokładnie czyścimy otwór i wykonujemy pompowanie testowe, aby określić
          wydajność studni oraz ustabilizować jej pracę.
        </p>
      </div>
    </li>

    <li class="ml-6">
      <span
        class="absolute flex items-center justify-center w-8 h-8 bg-blue-200 rounded-full -left-4 ring-4 ring-white font-bold"
        >6</span
      >
      <div
        class="step-header cursor-pointer p-2 -ml-2 rounded hover:bg-gray-100"
      >
        <h3 class="flex items-center text-lg font-semibold text-gray-900">
          Montaż pompy i odbiór
          <svg
            class="w-3 h-3 ml-2 transform transition-transform flex-shrink-0"
            fill="none"
            viewBox="0 0 10 6"
          >
            <path
              stroke="currentColor"
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="m1 1 4 4 4-4"></path>
          </svg>
        </h3>
      </div>
      <div
        class="step-content hidden mt-2 ml-2 overflow-hidden border-l-2 border-gray-200 pl-4"
      >
        <p class="text-base font-normal text-gray-600 py-2">
          Instalujemy odpowiednio dobraną pompę głębinową, podłączamy ją do
          instalacji i przekazujemy Ci w pełni działającą, gotową do użytku
          studnię wraz z całą dokumentacją.
        </p>
      </div>
    </li>
  </ol>
</div>

<script>
  const stepHeaders = document.querySelectorAll(".step-header");

  stepHeaders.forEach((header) => {
    header.addEventListener("click", () => {
      const listItem = header.closest("li");
      // POPRAWKA JEST TUTAJ v - dodajemy '?' po listItem
      const content = listItem?.querySelector(".step-content");
      const icon = header.querySelector("svg");

      content?.classList.toggle("hidden");
      icon?.classList.toggle("rotate-180");
    });
  });
</script>
