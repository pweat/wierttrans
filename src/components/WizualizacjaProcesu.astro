---
// src/components/WizualizacjaProcesu.astro
---

<div class="w-full max-w-3xl mx-auto p-4">
  <h2 class="text-3xl font-bold text-center mb-12">
    Nasz Proces Budowy Studni
  </h2>

  <ol class="relative border-l-2 border-gray-200">
    <li class="mb-10 ml-6">
      <span
        class="absolute flex items-center justify-center w-8 h-8 bg-blue-200 rounded-full -left-4 ring-4 ring-white font-bold"
        >1</span
      >
      <div
        class="step-header cursor-pointer p-2 -ml-2 rounded hover:bg-gray-100"
      >
        <h3 class="flex items-center text-lg font-semibold text-gray-900">
          Wizyta na działce i analiza
          <svg
            class="w-3 h-3 ml-2 transform transition-transform flex-shrink-0"
            fill="none"
            viewBox="0 0 10 6"
          >
            <path
              stroke="currentColor"
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="m1 1 4 4 4-4"></path>
          </svg>
        </h3>
      </div>
      <div
        class="step-content hidden mt-2 ml-2 overflow-hidden border-l-2 border-gray-200 pl-4"
      >
        <p class="text-base font-normal text-gray-600 py-2">
          Szczegółowy opis pierwszego etapu. Wyjaśnij, co sprawdzasz, jakich
          informacji potrzebujesz i co jest wynikiem tego kroku (np. umowa i
          termin).
        </p>
      </div>
    </li>

    <li class="mb-10 ml-6">
      <span
        class="absolute flex items-center justify-center w-8 h-8 bg-blue-200 rounded-full -left-4 ring-4 ring-white font-bold"
        >2</span
      >
      <div
        class="step-header cursor-pointer p-2 -ml-2 rounded hover:bg-gray-100"
      >
        <h3 class="flex items-center text-lg font-semibold text-gray-900">
          Proces wiercenia
          <svg
            class="w-3 h-3 ml-2 transform transition-transform flex-shrink-0"
            fill="none"
            viewBox="0 0 10 6"
          >
            <path
              stroke="currentColor"
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="m1 1 4 4 4-4"></path>
          </svg>
        </h3>
      </div>
      <div
        class="step-content hidden mt-2 ml-2 overflow-hidden border-l-2 border-gray-200 pl-4"
      >
        <p class="text-base font-normal text-gray-600 py-2">
          Opis drugiego etapu. To serce całego procesu. Możesz tu opisać,
          jakiego sprzętu używasz i jak dbasz o porządek na działce klienta.
        </p>
      </div>
    </li>

    <li class="ml-6">
      <span
        class="absolute flex items-center justify-center w-8 h-8 bg-blue-200 rounded-full -left-4 ring-4 ring-white font-bold"
        >3</span
      >
      <div
        class="step-header cursor-pointer p-2 -ml-2 rounded hover:bg-gray-100"
      >
        <h3 class="flex items-center text-lg font-semibold text-gray-900">
          Montaż pompy i odbiór
          <svg
            class="w-3 h-3 ml-2 transform transition-transform flex-shrink-0"
            fill="none"
            viewBox="0 0 10 6"
          >
            <path
              stroke="currentColor"
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="m1 1 4 4 4-4"></path>
          </svg>
        </h3>
      </div>
      <div
        class="step-content hidden mt-2 ml-2 overflow-hidden border-l-2 border-gray-200 pl-4"
      >
        <p class="text-base font-normal text-gray-600 py-2">
          Opis ostatniego etapu. Wyjaśnij, jak wygląda podłączenie, jakie testy
          wykonujesz i co przekazujesz klientowi na koniec.
        </p>
      </div>
    </li>
  </ol>
</div>

<script>
  document.addEventListener("astro:page-load", () => {
    const stepHeaders = document.querySelectorAll(".step-header");

    stepHeaders.forEach((header) => {
      header.addEventListener("click", () => {
        const content = header.nextElementSibling;
        const icon = header.querySelector("svg");

        content?.classList.toggle("hidden");
        icon?.classList.toggle("rotate-180");
      });
    });
  });
</script>
